(function(){"use strict";var e={4775:function(e,t,a){var s={};a.r(s),a.d(s,{e:function(){return y}});var i=a(5130),n=a(6768);function o(e,t,a,s,i,o){const r=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.Wv)(r)}var r={name:"App"},l=a(1241);const c=(0,l.A)(r,[["render",o]]);var u=c,d=(a(8111),a(3579),a(1387)),v=a(9119);const p=(void 0).VITE_SUPABASE_URL,g=(void 0).VITE_SUPABASE_ANON_KEY,k=(0,v.UU)(p,g);a(2489),a(8237);var h=a(144),m=a(4232),f=a(2261);const y=(0,f.nY)("activityStore",{state:()=>({activities:[],currentActivity:null,progress:0}),getters:{getActivitiesByDate:e=>t=>{const a=new Date(t);a.setHours(0,0,0,0);const s=new Date(a);return s.setDate(a.getDate()+1),e.activities.filter((e=>{const t=new Date(e.created_at);return t>=a&&t<s}))},getWeeklyActivities:e=>{const t=new Date,a=new Date(t);a.setDate(t.getDate()-t.getDay()),a.setHours(0,0,0,0);const s=new Date(a);return s.setDate(a.getDate()+7),e.activities.filter((e=>{const t=new Date(e.created_at);return t>=a&&t<s}))},getDailyActivities:e=>{const t=new Date;t.setHours(0,0,0,0);const a=new Date(t);return a.setDate(t.getDate()+1),e.activities.filter((e=>{const s=new Date(e.created_at);return s>=t&&s<a}))}},actions:{async fetchActivities(e=null){try{const{data:{user:t}}=await k.auth.getUser();if(!t)throw new Error("No user logged in");let a=k.from("activities").select("*").eq("user_id",t.id);e&&(a=a.gte("created_at",e.start.toISOString()).lt("created_at",e.end.toISOString()));const{data:s,error:i}=await a.order("created_at",{ascending:!1});if(i)throw i;this.activities=s,this.calculateProgress()}catch(t){console.error("Error fetching activities:",t.message)}},async addActivity(e){try{const{data:{user:t}}=await k.auth.getUser();if(!t)throw new Error("No user logged in");const{data:a,error:s}=await k.from("activities").insert([{...e,user_id:t.id,completed:!1,created_at:(new Date).toISOString()}]).select();if(s)throw s;return await this.fetchActivities(),a[0]}catch(t){throw console.error("Error adding activity:",t.message),t}},async updateActivity(e,t){try{const{error:a}=await k.from("activities").update(t).eq("id",e);if(a)throw a;await this.fetchActivities()}catch(a){throw console.error("Error updating activity:",a.message),a}},async completeActivity(e){try{const{error:t}=await k.from("activities").update({completed:!0,completed_at:(new Date).toISOString()}).eq("id",e);if(t)throw t;await this.fetchActivities()}catch(t){throw console.error("Error completing activity:",t.message),t}},async deleteActivity(e){try{const{error:t}=await k.from("activities").delete().eq("id",e);if(t)throw t;await this.fetchActivities()}catch(t){throw console.error("Error deleting activity:",t.message),t}},setCurrentActivity(e){this.currentActivity=e},calculateProgress(){const e=this.getDailyActivities;if(0===e.length)return void(this.progress=0);const t=e.filter((e=>e.completed)).length;this.progress=Math.round(t/e.length*100)}}});var b=a(5886),w=a(111),L=a(2314),D=a(3530),_=a(9730);const A={class:"header"},S={class:"user-greeting"},E={class:"date"};var C={__name:"Header",props:{name:{type:String,required:!0},date:{type:String,required:!0}},setup(e){return(t,a)=>((0,n.uX)(),(0,n.CE)("header",A,[(0,n.Lk)("h1",S,"Ola,"+(0,m.v_)(e.name),1),(0,n.Lk)("p",E,(0,m.v_)(e.date),1)]))}};const x=(0,l.A)(C,[["__scopeId","data-v-562a581e"]]);var W=x,R=a(1121);const P={class:"progress-container"};var X={__name:"ProgressCircle",props:{progress:{type:Number,required:!0,default:0}},setup(e){const t=e,a=(0,n.EW)((()=>({labels:["Progress"],datasets:[{data:[t.progress,100-t.progress],backgroundColor:["#50a65d","#232323"],borderWidth:0,borderRadius:20,hoverBorderWidth:0,spacing:0}]}))),s=(0,n.EW)((()=>({cutout:"85%",radius:95,plugins:{legend:{display:!1},tooltip:{enabled:!1}},elements:{arc:{borderWidth:0}},animation:{animateRotate:!0,animateScale:!1,duration:1e3,easing:"easeOutCubic"},responsive:!0,maintainAspectRatio:!0}))),i=(0,n.EW)((()=>t.progress>0?"#50a65d":"#232323"));return(e,o)=>((0,n.uX)(),(0,n.CE)("div",P,[(0,n.bF)((0,h.R1)(R.A),{type:"doughnut",data:a.value,options:s.value,class:"small-chart"},null,8,["data","options"]),(0,n.Lk)("div",{class:"progress-text",style:(0,m.Tr)({color:i.value})},(0,m.v_)(t.progress)+"% ",5)]))}};const $=(0,l.A)(X,[["__scopeId","data-v-4148a27e"]]);var K=$,F=a(2988);const I={class:"activity-content"},O={class:"activity-info"},U={class:"title"},q={class:"status-row"},N={class:"status-text"},M={class:"duration-container"},j={key:0,class:"pi pi-clock pending-icon"},G={key:1,class:"step"},H={key:2,class:"expired-circle"},T={class:"duration-value"},V={class:"duration-unit"},B={class:"close-button-container"},Q={class:"dialog-title"},Y={class:"activity-points"},J={class:"activity-status"},z={class:"action-buttons"};var Z={__name:"ActivityItem",props:{id:{type:Number,required:!0}},setup(e){const t=e,a=(0,s.useActivitiesStore)(),i=(0,n.EW)((()=>a.getActivityById(t.id))),o=(0,h.KR)(!1),r=(0,n.EW)((()=>{const e={done:"Done",pending:"Pending",expired:"Expired",active:"Active"};return e[i.value.status]})),l=(0,h.KR)(!0);let c=null;function u(){c||(c=setInterval((()=>{l.value=!l.value}),500))}function d(){c&&(clearInterval(c),c=null,l.value=!1)}return(0,n.wB)((()=>i.value.status),(e=>{"active"===e?u():d()}),{immediate:!0}),(0,n.hi)((()=>{d()})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"activity-item",onClick:t[2]||(t[2]=t=>e.$emit("open-dialog",i.value.id))},[(0,n.Lk)("div",I,[(0,n.Lk)("div",O,[(0,n.Lk)("div",U,(0,m.v_)(i.value.title),1),(0,n.Lk)("div",q,[(0,n.Lk)("div",{class:(0,m.C4)(["status-indicator",{"status-done":"done"===i.value.status,"status-pending":"pending"===i.value.status,"status-expired":"expired"===i.value.status,"status-active":"active"===i.value.status}])},null,2),(0,n.Lk)("span",N,(0,m.v_)(r.value),1)])]),t[3]||(t[3]=(0,n.Lk)("div",{class:"separator"},null,-1)),(0,n.Lk)("div",M,["pending"===i.value.status?((0,n.uX)(),(0,n.CE)("i",j)):(0,n.Q3)("",!0),"active"===i.value.status?((0,n.uX)(),(0,n.CE)("div",G)):(0,n.Q3)("",!0),"expired"===i.value.status?((0,n.uX)(),(0,n.CE)("div",H)):(0,n.Q3)("",!0),"done"==i.value.status?((0,n.uX)(),(0,n.CE)(n.FK,{key:3},[(0,n.Lk)("span",T,(0,m.v_)(i.value.duration<60?i.value.duration:Math.floor(i.value.duration/60)),1),(0,n.Lk)("span",V,(0,m.v_)(i.value.duration<60?"sec":"min"),1)],64)):(0,n.Q3)("",!0)])]),(0,n.bF)((0,h.R1)(F.A),{visible:o.value,"onUpdate:visible":t[1]||(t[1]=e=>o.value=e),modal:"",closable:!1,showHeader:!1,dismissableMask:!0,contentStyle:{padding:"0",height:"100vh"},style:{width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",margin:"0",borderRadius:"0"},position:"top",class:"activity-dialog"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",{class:(0,m.C4)(["dialog-wrapper",{"dialog-enter-active":o.value}])},[(0,n.Lk)("div",B,[(0,n.bF)((0,h.R1)(D.A),{icon:"pi pi-times",onClick:t[0]||(t[0]=e=>o.value=!1),text:"",class:"close-button"})]),(0,n.Lk)("h2",Q,(0,m.v_)(i.value.title),1),t[4]||(t[4]=(0,n.Lk)("div",{class:"timer-display"},"00:00:00",-1)),(0,n.Lk)("div",Y,[(0,n.Lk)("span",null,"Activity Points: "+(0,m.v_)(i.value.duration),1)]),(0,n.Lk)("div",J,[(0,n.Lk)("span",null,"Status: "+(0,m.v_)(r.value),1)]),(0,n.Lk)("div",z,["pending"===i.value.status?((0,n.uX)(),(0,n.Wv)((0,h.R1)(D.A),{key:0,label:"Start",class:"p-button-success"})):(0,n.Q3)("",!0)])],2)])),_:1},8,["visible"])]))}};const ee=(0,l.A)(Z,[["__scopeId","data-v-3e85f58a"]]);var te=ee;a(4114);const ae={class:"nav-wrapper"},se={class:"bottom-nav"},ie=["onClick"],ne={class:"material-icons icon-spacing"},oe={class:"nav-text"},re={class:"nav-container"},le=["onClick"],ce={key:0,class:"nav-text"},ue=["onClick"];var de={__name:"Navbar",setup(e){const t=(0,d.rd)(),a=(0,d.lq)(),s=(0,h.KR)(""),o=(0,h.KR)(""),r=(0,h.KR)(!1),l=(0,h.KR)(!1),c=(0,h.KR)(!1),u=(0,h.KR)([{id:"home",icon:"home",text:"Home"},{id:"calendar",icon:"calendar_today",text:"Goals"},{id:"profile",icon:"person",text:"Profile"}]),v=(0,h.KR)([{id:"daily",icon:"bolt",text:"Daily Progress"},{id:"weekly",icon:"star",text:"Weekly Progress"},{id:"goal",icon:"emoji_events",text:"Goal Progress"}]);function p(e){return"calendar"===e?r.value||a.path.includes("progress"):s.value===e&&!r.value}function g(e){if("calendar"===e){if(c.value)return;r.value?y():(f(),s.value="calendar")}else y(),s.value=e,t.push(`/${"home"===e?"":e}`)}function k(e){o.value=e,y(),s.value="calendar",t.push(`/${e}progress`)}function f(){c.value||(r.value=!0,l.value=!0,c.value=!1)}function y(){r.value&&!c.value&&(r.value=!1,c.value=!0)}function b(){c.value&&(l.value=!1,c.value=!1,a.path.includes("progress")||("/"===a.path?s.value="home":s.value=a.path.replace("/","")))}function w(e){const t=document.querySelector(".nav-wrapper");t&&!t.contains(e.target)&&y()}function L(e){return a.path.includes(`${e}progress`)}return(0,n.sV)((()=>{"/"===a.path?s.value="home":a.path.includes("progress")?s.value="calendar":s.value=a.path.replace("/","")})),(0,n.sV)((()=>{document.addEventListener("click",w)})),(0,n.xo)((()=>{document.removeEventListener("click",w)})),(e,t)=>((0,n.uX)(),(0,n.CE)("div",ae,[(0,n.Lk)("div",se,[l.value?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,m.C4)(["goals-submenu",{"slide-down":c.value}]),onAnimationend:b},[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(v.value,(e=>((0,n.uX)(),(0,n.CE)("button",{key:e.id,onClick:t=>k(e.id),class:(0,m.C4)(["nav-button",{"active-tab":o.value===e.id,"active-view":L(e.id)}])},[(0,n.Lk)("span",ne,(0,m.v_)(e.icon),1),(0,n.Lk)("span",oe,(0,m.v_)(e.text),1)],10,ie)))),128))],34)):(0,n.Q3)("",!0),(0,n.Lk)("div",re,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(u.value,(e=>((0,n.uX)(),(0,n.CE)("button",{key:e.id,onClick:t=>g(e.id),class:(0,m.C4)(["nav-button",{"active-tab":p(e.id)}])},[p(e.id)?((0,n.uX)(),(0,n.CE)("span",ce,(0,m.v_)(e.text),1)):((0,n.uX)(),(0,n.CE)("span",{key:1,class:"material-icons",onClick:(0,i.D$)((t=>g(e.id)),["stop"])},(0,m.v_)(e.icon),9,ue))],10,le)))),128))])])]))}};const ve=(0,l.A)(de,[["__scopeId","data-v-28bb5481"]]);var pe=ve;const ge={class:"close-button-container"},ke={class:"dialog-title"},he={class:"timer-display"},me={class:"activity-points-pill"},fe={class:"points-group"},ye={class:"points-value"},be={key:0,class:"activity-details-pill"},we={class:"details-group"},Le={class:"details-date"},De={key:0,class:"details-group"},_e={class:"details-time"},Ae={class:"details-time"},Se={class:"activity-status-pill"},Ee={class:"status-group"},Ce={class:"status-text"},xe={class:"action-text"};var We={__name:"ActivityTimer",props:{id:{type:Number,required:!0},visible:{type:Boolean,required:!0}},emits:["update:visible","complete","active-state"],setup(e,{emit:t}){const a=e,i=(0,s.useActivitiesStore)(),o=(0,n.EW)((()=>i.getActivityById(a.id))),r=(0,h.KR)(0),l=(0,h.KR)(0),c=t,u=(0,h.KR)(null),d=(0,n.EW)((()=>{const e="active"===o.value.status?i.activeElapsedTime:o.value.duration||0,t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=Math.floor(e%60);return`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}:${String(s).padStart(2,"0")}`}));function v(){"active"===o.value.status?r.value=l.value:"done"===o.value.status?r.value=o.value.duration||0:r.value=0}function p(){i.startActivity(o.value.id)}function g(){i.stopActivity(o.value.id)}function k(){c("update:visible",!1)}function f(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(0,n.hi)((()=>{u.value&&clearInterval(u.value)})),(0,n.sV)((()=>{v()}));const y=(0,n.EW)((()=>{if(!o.value.timeActive)return"N/A";const e=new Date(o.value.timeActive),t=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return`${t}:${a}`})),b=(0,n.EW)((()=>{if(!o.value.timeDone)return"N/A";const e=new Date(o.value.timeDone),t=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return`${t}:${a}`})),w=(0,n.EW)((()=>{const e=new Date(o.value.dateCreated),t=e.getDate(),a=e.toLocaleString("en-US",{month:"long"});return`${t}${f(t)} ${a}`}));return(0,n.wB)((()=>o.value.id),(()=>{v()})),(t,a)=>((0,n.uX)(),(0,n.Wv)((0,h.R1)(F.A),{visible:e.visible,onHide:k,modal:"",closable:!1,showHeader:!1,dismissableMask:!0,contentStyle:{padding:"0",height:"100vh"},style:{width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",margin:"0",borderRadius:"0"},position:"top",class:"activity-dialog",transition:"dialog"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",{class:(0,m.C4)(["dialog-wrapper",{"dialog-enter-active":e.visible}])},[(0,n.Lk)("div",ge,[(0,n.bF)((0,h.R1)(D.A),{icon:"pi pi-times",onClick:k,text:"",class:"close-button"})]),(0,n.Lk)("h2",ke,(0,m.v_)(o.value.title),1),(0,n.Lk)("div",he,(0,m.v_)(d.value),1),(0,n.Lk)("div",me,[a[2]||(a[2]=(0,n.Lk)("div",{class:"bolt-icon-group"},[(0,n.Lk)("i",{class:"pi pi-bolt bolt-icon"}),(0,n.Lk)("span",{class:"points-text"},"Activity Points")],-1)),(0,n.Lk)("div",fe,[a[1]||(a[1]=(0,n.Lk)("span",{class:"vertical-line"},null,-1)),(0,n.Lk)("span",ye,(0,m.v_)(o.value.points)+"%",1)])]),"expired"===o.value.status||"done"===o.value.status?((0,n.uX)(),(0,n.CE)("div",be,[(0,n.Lk)("div",we,[a[3]||(a[3]=(0,n.Lk)("i",{class:"pi pi-calendar calendar-icon"},null,-1)),(0,n.Lk)("span",Le,(0,m.v_)(w.value),1)]),"expired"!==o.value.status?((0,n.uX)(),(0,n.CE)("div",De,[a[4]||(a[4]=(0,n.Lk)("span",{class:"vertical-line"},null,-1)),(0,n.Lk)("span",_e,(0,m.v_)(y.value),1),a[5]||(a[5]=(0,n.Lk)("span",null,"-",-1)),(0,n.Lk)("span",Ae,(0,m.v_)(b.value),1)])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0),(0,n.Lk)("div",Se,[(0,n.Lk)("div",Ee,[(0,n.Lk)("span",{class:(0,m.C4)(["status-dot",{pending:"pending"===o.value.status,active:"active"===o.value.status,done:"done"===o.value.status,expired:"expired"===o.value.status}])},null,2),(0,n.Lk)("span",Ce,(0,m.v_)(o.value.status),1)])]),"pending"===o.value.status||"active"===o.value.status?((0,n.uX)(),(0,n.CE)("div",{key:1,class:(0,m.C4)(["action-buttons-pill",{clicked:"active"===o.value.status,disabled:(0,h.R1)(i).hasActiveActivity&&"pending"==o.value.status}]),onClick:a[0]||(a[0]=e=>"active"===o.value.status?g():p())},[(0,n.Lk)("span",xe,(0,m.v_)("active"===o.value.status?"Finish":"Start"),1)],2)):(0,n.Q3)("",!0)],2)])),_:1},8,["visible"]))}};const Re=(0,l.A)(We,[["__scopeId","data-v-6b5722c2"]]);var Pe=Re,Xe=a(4373);const $e="http://127.0.0.1:5000";function Ke(){const e=localStorage.getItem("token");return e?{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}:{"Content-Type":"application/json"}}async function Fe(e,t){return Xe.A.post(`${$e}/auth/login`,{email:e,password:t},{headers:{"Content-Type":"application/json"}})}async function Ie(){return Xe.A.get(`${$e}/tasks/`,{headers:Ke()})}const Oe={class:"phone-frame"},Ue={class:"h-full flex-col-container"},qe={key:0,class:"login-container"},Ne={class:"p-mt-3 forgot-password"},Me={class:"content-container"},je={class:"progress-container"},Ge={class:"activities-container"},He={key:1,class:"progress-view-container"},Te={class:"progress-buttons-container"},Ve={class:"progress-message"},Be={key:2,class:"profile-container"};var Qe={__name:"Home",setup(e){const t=(0,h.KR)(!1),a=(0,h.KR)(""),o=(0,h.KR)(""),r=(0,h.KR)("Tumelo"),l=(0,h.KR)("home"),c=(0,h.KR)(""),u=(0,h.KR)("daily"),d=(0,s.useActivitiesStore)(),v=(0,n.EW)((()=>(console.log("Store activities:",d.activities),console.log("Latest activities:",d.getLatestActivities),d.getLatestActivities))),p=(0,h.KR)(!1),g=(0,h.KR)(null);function k(e){console.log("Selected Activity ID:",e),g.value=e,p.value=!0}function f(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}const y=(0,n.EW)((()=>{switch(u.value){case"daily":return"Your daily progress stats will appear here";case"weekly":return"Your weekly progress summary will appear here";case"monthly":return"Your monthly achievements will appear here";default:return""}})),A=()=>{t.value=!!localStorage.getItem("token")},S=async()=>{try{const e=await Fe(a.value,o.value);localStorage.setItem("token",e.data.access_token),t.value=!0,E()}catch{alert("Login failed! Check your credentials.")}},E=async()=>{try{const e=await Ie();e.data.message||console.log("Tasks loaded:",e.data)}catch(e){console.error("Error loading tasks:",e)}},C=e=>{l.value=e},x=e=>{u.value=e},R=(0,n.EW)((()=>v.value.filter((e=>"done"===e.status)).reduce(((e,t)=>e+t.points),0)));return(0,n.sV)((()=>{const e=new Date,a=e.getDate(),s=e.toLocaleDateString("en-US",{weekday:"long"}),i=e.toLocaleDateString("en-US",{month:"long"});c.value=`${s}, ${i} ${a}${f(a)}`,A(),t.value&&E()})),(e,s)=>{const d=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",Oe,[(0,n.Lk)("div",Ue,[t.value?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.bF)(W,{name:r.value,date:c.value},null,8,["name","date"]),(0,n.Lk)("div",Me,["home"===l.value?((0,n.uX)(),(0,n.CE)(n.FK,{key:0},[(0,n.Lk)("div",je,[(0,n.bF)(K,{progress:R.value},null,8,["progress"])]),(0,n.Lk)("div",Ge,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(v.value,(e=>((0,n.uX)(),(0,n.Wv)(te,{key:e.id,id:e.id,onOpenDialog:k},null,8,["id"])))),128))]),g.value?((0,n.uX)(),(0,n.Wv)(Pe,{key:0,visible:p.value,"onUpdate:visible":s[2]||(s[2]=e=>p.value=e),id:g.value,onActiveState:e.handleActiveState},null,8,["visible","id","onActiveState"])):(0,n.Q3)("",!0)],64)):"calendar"===l.value?((0,n.uX)(),(0,n.CE)("div",He,[s[13]||(s[13]=(0,n.Lk)("h2",{class:"section-title"},"Progress View",-1)),(0,n.Lk)("div",Te,[(0,n.bF)((0,h.R1)(D.A),{class:(0,m.C4)(["progress-button","daily"===u.value?"active-button":"inactive-button"]),onClick:s[3]||(s[3]=e=>x("daily"))},{default:(0,n.k6)((()=>s[10]||(s[10]=[(0,n.Lk)("i",{class:"pi pi-bolt icon-spacing"},null,-1),(0,n.Lk)("span",null,"Daily Progress",-1)]))),_:1},8,["class"]),(0,n.bF)((0,h.R1)(D.A),{class:(0,m.C4)(["progress-button","weekly"===u.value?"active-button":"inactive-button"]),onClick:s[4]||(s[4]=e=>x("weekly"))},{default:(0,n.k6)((()=>s[11]||(s[11]=[(0,n.Lk)("i",{class:"pi pi-star icon-spacing"},null,-1),(0,n.Lk)("span",null,"Weekly Progress",-1)]))),_:1},8,["class"]),(0,n.bF)((0,h.R1)(D.A),{class:(0,m.C4)(["progress-button","monthly"===u.value?"active-button":"inactive-button"]),onClick:s[5]||(s[5]=e=>x("monthly"))},{default:(0,n.k6)((()=>s[12]||(s[12]=[(0,n.Lk)("i",{class:"pi pi-trophy icon-spacing"},null,-1),(0,n.Lk)("span",null,"Monthly Progress",-1)]))),_:1},8,["class"])]),(0,n.Lk)("div",Ve,[(0,n.Lk)("p",null,(0,m.v_)(y.value),1)])])):"profile"===l.value?((0,n.uX)(),(0,n.CE)("div",Be,s[14]||(s[14]=[(0,n.Lk)("div",{class:"profile-content"},[(0,n.Lk)("h2",{class:"section-title"},"User Profile"),(0,n.Lk)("p",{class:"secondary-text"}," Your profile information will appear here ")],-1)]))):(0,n.Q3)("",!0)]),(0,n.bF)(pe,{active:l.value,"active-goal":u.value,onNavigate:C,onGoalSelect:x},null,8,["active","active-goal"])],64)):((0,n.uX)(),(0,n.CE)("div",qe,[(0,n.bF)((0,h.R1)(b.A),{class:"p-shadow-3"},{title:(0,n.k6)((()=>s[6]||(s[6]=[(0,n.Lk)("span",{class:"login-title"},"Login",-1)]))),content:(0,n.k6)((()=>[(0,n.Lk)("form",{onSubmit:(0,i.D$)(S,["prevent"]),class:"p-fluid"},[(0,n.bF)((0,h.R1)(_.A),null,{default:(0,n.k6)((()=>[(0,n.bF)((0,h.R1)(w.A),{id:"email",modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=e=>a.value=e),class:"dark-text"},null,8,["modelValue"]),s[7]||(s[7]=(0,n.Lk)("label",{for:"email"},"Email",-1))])),_:1}),(0,n.bF)((0,h.R1)(_.A),{class:"p-mt-3"},{default:(0,n.k6)((()=>[(0,n.bF)((0,h.R1)(L.A),{id:"password",modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=e=>o.value=e),toggleMask:"",class:"dark-text"},null,8,["modelValue"]),s[8]||(s[8]=(0,n.Lk)("label",{for:"password"},"Password",-1))])),_:1}),(0,n.bF)((0,h.R1)(D.A),{label:"Login",icon:"pi pi-sign-in",class:"p-mt-3",type:"submit"})],32),(0,n.Lk)("p",Ne,[(0,n.bF)(d,{to:"/forgot-password",class:"link"},{default:(0,n.k6)((()=>s[9]||(s[9]=[(0,n.eW)(" Forgot Password? ")]))),_:1})]),(0,n.bF)(d,{to:"/register",custom:""},{default:(0,n.k6)((({navigate:e})=>[(0,n.bF)((0,h.R1)(D.A),{label:"Register",class:"p-button-secondary",onClick:e},null,8,["onClick"])])),_:1})])),_:1})]))])])}}};const Ye=(0,l.A)(Qe,[["__scopeId","data-v-036b8e21"]]);var Je=Ye;function ze(e,t,a,s,o,r){return(0,n.uX)(),(0,n.CE)("div",null,[t[6]||(t[6]=(0,n.Lk)("h2",null,"Login",-1)),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,i.D$)(((...e)=>r.login&&r.login(...e)),["prevent"]))},[t[3]||(t[3]=(0,n.Lk)("label",null,"Email:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),required:""},null,512),[[i.Jo,o.email]]),t[4]||(t[4]=(0,n.Lk)("label",null,"Password:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:""},null,512),[[i.Jo,o.password]]),t[5]||(t[5]=(0,n.Lk)("button",{type:"submit"},"Login",-1))],32)])}var Ze={data(){return{email:"",password:""}},methods:{async login(){try{const{data:e,error:t}=await k.auth.signInWithPassword({email:this.email,password:this.password});if(t)throw t;console.log("Login successful",e),this.$router.push("/")}catch(e){console.error("Login failed",e.message)}}}};const et=(0,l.A)(Ze,[["render",ze]]);var tt=et;function at(e,t,a,s,o,r){return(0,n.uX)(),(0,n.CE)("div",null,[t[6]||(t[6]=(0,n.Lk)("h2",null,"Register",-1)),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,i.D$)(((...e)=>r.register&&r.register(...e)),["prevent"]))},[t[3]||(t[3]=(0,n.Lk)("label",null,"Email:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),required:""},null,512),[[i.Jo,o.email]]),t[4]||(t[4]=(0,n.Lk)("label",null,"Password:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>o.password=e),required:""},null,512),[[i.Jo,o.password]]),t[5]||(t[5]=(0,n.Lk)("button",{type:"submit"},"Register",-1))],32)])}var st={name:"Register",data(){return{email:"",password:""}},methods:{async register(){try{const{data:e,error:t}=await k.auth.signUp({email:this.email,password:this.password});if(t)throw t;console.log("Registration successful",e),this.$router.push("/login")}catch(e){console.error("Registration failed",e.message)}}}};const it=(0,l.A)(st,[["render",at]]);var nt=it;const ot={class:"page-container"},rt={class:"content-container"},lt={key:0,class:"profile-info"};var ct={__name:"Profile",setup(e){const t=(0,d.rd)(),a=(0,h.KR)(null);(0,n.sV)((async()=>{const{data:{user:e}}=await k.auth.getUser();a.value=e}));const s=async()=>{try{const{error:e}=await k.auth.signOut();if(e)throw e;t.push("/login")}catch(e){console.error("Error logging out:",e.message)}};return(e,t)=>((0,n.uX)(),(0,n.CE)("div",ot,[(0,n.bF)(W),(0,n.Lk)("div",rt,[t[0]||(t[0]=(0,n.Lk)("h1",{class:"page-title"},"Profile",-1)),a.value?((0,n.uX)(),(0,n.CE)("div",lt,[(0,n.Lk)("p",null,"Email: "+(0,m.v_)(a.value.email),1),(0,n.Lk)("button",{onClick:s,class:"logout-button"},"Logout")])):(0,n.Q3)("",!0)]),(0,n.bF)(pe)]))}};const ut=(0,l.A)(ct,[["__scopeId","data-v-59343a17"]]);var dt=ut;const vt=(0,f.nY)("goalSettings",{state:()=>({goals:[],currentGoal:null}),actions:{async fetchGoals(){try{const{data:{user:e}}=await k.auth.getUser();if(!e)throw new Error("No user logged in");const{data:t,error:a}=await k.from("goals").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(a)throw a;this.goals=t}catch(e){console.error("Error fetching goals:",e.message)}},async addGoal(e){try{const{data:{user:t}}=await k.auth.getUser();if(!t)throw new Error("No user logged in");const{data:a,error:s}=await k.from("goals").insert([{...e,user_id:t.id}]).select();if(s)throw s;return await this.fetchGoals(),a[0]}catch(t){throw console.error("Error adding goal:",t.message),t}},async updateGoal(e,t){try{const{error:a}=await k.from("goals").update(t).eq("id",e);if(a)throw a;await this.fetchGoals()}catch(a){throw console.error("Error updating goal:",a.message),a}},async deleteGoal(e){try{const{error:t}=await k.from("goals").delete().eq("id",e);if(t)throw t;await this.fetchGoals()}catch(t){throw console.error("Error deleting goal:",t.message),t}},setCurrentGoal(e){this.currentGoal=e}}});a(1701);const pt={class:"day-content"},gt={class:"day-info"},kt={class:"title"},ht={class:"time-range"},mt={class:"time-text"},ft={class:"points-container"},yt={class:"points-value"};var bt={__name:"DayItem",props:{activityDate:{type:String,required:!0}},emits:["show-details"],setup(e){const t=e,a=(0,s.useActivitiesStore)(),i=(0,n.EW)((()=>a.getActivitiesByDate(t.activityDate))),o=(0,n.EW)((()=>{const e=new Date(t.activityDate),a=e.getDate(),s=e.toLocaleDateString("en-US",{weekday:"short"}),i=e.toLocaleDateString("en-US",{month:"long"});function n(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}return`${s}, ${i} ${a}${n(a)}`})),r=(0,n.EW)((()=>{const e=i.value.filter((e=>"done"===e.status));if(!e.length)return"Expired";const t=e.map((e=>new Date(e.timeActive))),a=new Date(Math.min(...t)),s=new Date(Math.max(...t)),n=e=>{const t=e.getHours().toString().padStart(2,"0"),a=e.getMinutes().toString().padStart(2,"0");return`${t}:${a}`};return`${n(a)} - ${n(s)}`})),l=(0,n.EW)((()=>i.value.filter((e=>"done"===e.status)).reduce(((e,t)=>e+t.points),0))),c=(0,n.EW)((()=>{const e=l.value;return 0===e?"no-points":e<=25?"low-points":e<=50?"medium-points":e<=75?"high-points":"max-points"}));return(e,t)=>((0,n.uX)(),(0,n.CE)("div",{class:"day-item",onClick:t[0]||(t[0]=t=>e.$emit("show-details"))},[(0,n.Lk)("div",pt,[(0,n.Lk)("div",{class:(0,m.C4)(["status-dot",c.value])},null,2),(0,n.Lk)("div",gt,[(0,n.Lk)("div",kt,(0,m.v_)(o.value),1),(0,n.Lk)("div",ht,[t[1]||(t[1]=(0,n.Lk)("i",{class:"pi pi-clock"},null,-1)),(0,n.Lk)("span",mt,(0,m.v_)(r.value),1)])]),t[2]||(t[2]=(0,n.Lk)("div",{class:"separator"},null,-1)),(0,n.Lk)("div",ft,[(0,n.Lk)("span",yt,(0,m.v_)(l.value)+"%",1)])])]))}};const wt=(0,l.A)(bt,[["__scopeId","data-v-6ae30e33"]]);var Lt=wt;const Dt={class:""},_t={class:"close-button-container"},At={class:"scrollable-content"},St={class:"dialog-title"},Et={class:"progress-container"},Ct={class:"duration-summary"},xt={class:"duration-text"},Wt={class:"activities-container"};var Rt={__name:"DayDetailsDialog",props:{activityDate:{type:String,required:!0},visible:{type:Boolean,required:!0}},emits:["update:visible"],setup(e,{emit:t}){const a=e,i=t,o=(0,s.useActivitiesStore)(),r=(0,h.KR)(!1),l=(0,h.KR)(null),c=(0,n.EW)((()=>o.getActivitiesByDate(a.activityDate))),u=(0,n.EW)((()=>{const e=new Date(a.activityDate),t=e.getDate(),s=e.toLocaleDateString("en-US",{weekday:"short"}),i=e.toLocaleDateString("en-US",{month:"long"});function n(e){if(e>=11&&e<=13)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}return`${s}, ${i} ${t}${n(t)}`})),d=(0,n.EW)((()=>c.value.filter((e=>"done"===e.status)).reduce(((e,t)=>e+t.points),0))),v=(0,n.EW)((()=>{const e=c.value.reduce(((e,t)=>e+(t.duration||0)),0),t=Math.floor(e/3600),a=Math.floor(e%3600/60),s=e%60;return t>0?a>0?`${t}h ${a}min`:`${t}h`:a>0?s>0?`${a}min ${s}sec`:`${a}min`:`${s}sec`}));function p(e){l.value=e,r.value=!0}function g(){i("update:visible",!1)}return(t,a)=>((0,n.uX)(),(0,n.Wv)((0,h.R1)(F.A),{visible:e.visible,onHide:g,modal:"",closable:!1,showHeader:!1,dismissableMask:!0,contentStyle:{padding:"0",height:"100vh"},style:{width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",margin:"0",borderRadius:"0"},position:"top",class:"day-details-dialog",transition:"dialog"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",{class:(0,m.C4)(["dialog-wrapper",{"dialog-enter-active":e.visible}])},[(0,n.Lk)("div",Dt,[(0,n.Lk)("div",_t,[(0,n.bF)((0,h.R1)(D.A),{icon:"pi pi-times",onClick:g,text:"",class:"close-button"})])]),(0,n.Lk)("div",At,[(0,n.Lk)("h2",St,(0,m.v_)(u.value),1),(0,n.Lk)("div",Et,[(0,n.bF)(K,{progress:d.value},null,8,["progress"])]),(0,n.Lk)("div",Ct,[a[1]||(a[1]=(0,n.Lk)("i",{class:"pi pi-clock"},null,-1)),(0,n.Lk)("span",xt,"Duration: "+(0,m.v_)(v.value),1)]),(0,n.Lk)("div",Wt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(c.value,(e=>((0,n.uX)(),(0,n.Wv)(te,{key:e.id,id:e.id,onOpenDialog:p},null,8,["id"])))),128))])]),l.value?((0,n.uX)(),(0,n.Wv)(Pe,{key:0,visible:r.value,"onUpdate:visible":a[0]||(a[0]=e=>r.value=e),id:l.value},null,8,["visible","id"])):(0,n.Q3)("",!0)],2)])),_:1},8,["visible"]))}};const Pt=(0,l.A)(Rt,[["__scopeId","data-v-868fee90"]]);var Xt=Pt;const $t={class:"phone-frame"},Kt={class:"h-full flex-col-container"},Ft={class:"header-container"},It={class:"days-container"};var Ot={__name:"DailyProgress",setup(e){const t=(0,s.useActivitiesStore)(),a=vt(),i=(0,h.KR)(!1),o=(0,h.KR)(null),r=(0,h.KR)(!1),l=(0,h.KR)(""),c=(0,h.KR)(null),u=(0,h.KR)(!1);let d=0;function v(e){const t=e.target.scrollTop;Math.abs(t-d)>5&&(t>d&&t>50?u.value=!0:t<d&&(u.value=!1),d=t)}const p=(0,n.EW)((()=>{const e=a.getActiveGoal;if(!e||!e.firstActiveDate)return[];const s=t.activities,i=new Date(e.firstActiveDate),n=new Date(e.endDate),o=s.filter((e=>{const t=new Date(e.dateCreated);return t>=i&&t<=n})),r=o.reduce(((e,t)=>{const a=new Date(t.dateCreated).toISOString().split("T")[0];return e[a]||(e[a]={date:new Date(t.dateCreated),activities:[]}),e[a].activities.push(t),e}),{});return Object.values(r).sort(((e,t)=>e.date-t.date))}));function g(e){l.value=e,r.value=!0}return(e,t)=>((0,n.uX)(),(0,n.CE)("div",$t,[(0,n.Lk)("div",Kt,[(0,n.Lk)("div",Ft,[(0,n.Lk)("div",{class:(0,m.C4)(["page-header",{"header-hidden":u.value}])},t[2]||(t[2]=[(0,n.Lk)("span",{class:"material-icons"},"bolt",-1),(0,n.Lk)("span",{class:"header-text"},"Daily Progress",-1)]),2)]),(0,n.Lk)("div",{class:"content-container",onScroll:v,ref_key:"contentContainer",ref:c},[(0,n.Lk)("div",It,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(p.value,(e=>((0,n.uX)(),(0,n.Wv)(Lt,{key:e.date,"activity-date":e.date.toISOString(),onShowDetails:t=>g(e.date)},null,8,["activity-date","onShowDetails"])))),128))]),(0,n.bF)(Xt,{visible:r.value,"onUpdate:visible":t[0]||(t[0]=e=>r.value=e),"activity-date":l.value},null,8,["visible","activity-date"]),o.value?((0,n.uX)(),(0,n.Wv)(Pe,{key:0,visible:i.value,"onUpdate:visible":t[1]||(t[1]=e=>i.value=e),id:o.value},null,8,["visible","id"])):(0,n.Q3)("",!0)],544),(0,n.bF)(pe,{active:"calendar",activeGoal:"daily"})])]))}};const Ut=(0,l.A)(Ot,[["__scopeId","data-v-2fc46fcd"]]);var qt=Ut;a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);const Nt={class:"week-content"},Mt={class:"week-info"},jt={class:"title"},Gt={class:"active-days"},Ht={class:"days-text"},Tt={class:"points-container"},Vt={class:"points-value"};var Bt={__name:"WeekItem",props:{week:{type:Object,required:!0,validator:e=>["weekStart","weekNumber","daysPerWeek","percentageComplete","activeDays"].every((t=>t in e))}},emits:["show-details"],setup(e){const t=e,a=(0,n.EW)((()=>{const e=t.week.percentageComplete;return 0===e?"no-points":e<=25?"low-points":e<=50?"medium-points":e<=75?"high-points":"max-points"}));return(t,s)=>((0,n.uX)(),(0,n.CE)("div",{class:"week-item",onClick:s[0]||(s[0]=a=>t.$emit("show-details",e.week))},[(0,n.Lk)("div",Nt,[(0,n.Lk)("div",{class:(0,m.C4)(["status-dot",a.value])},null,2),(0,n.Lk)("div",Mt,[(0,n.Lk)("div",jt,"Week "+(0,m.v_)(e.week.weekNumber),1),(0,n.Lk)("div",Gt,[s[1]||(s[1]=(0,n.Lk)("i",{class:"pi pi-bolt"},null,-1)),(0,n.Lk)("span",Ht,"Active Days: "+(0,m.v_)(e.week.activeDays)+"/"+(0,m.v_)(e.week.daysPerWeek),1)])]),s[2]||(s[2]=(0,n.Lk)("div",{class:"separator"},null,-1)),(0,n.Lk)("div",Tt,[(0,n.Lk)("span",Vt,(0,m.v_)(e.week.percentageComplete)+"%",1)])])]))}};const Qt=(0,l.A)(Bt,[["__scopeId","data-v-143dce52"]]);var Yt=Qt;const Jt={class:"fixed-header"},zt={class:"close-button-container"},Zt={class:"scrollable-content"},ea={class:"dialog-title"},ta={class:"progress-container"},aa={class:"duration-summary"},sa={class:"summary-item"},ia={class:"summary-text"},na={class:"summary-item dates"},oa={class:"summary-text"},ra={class:"days-container"};var la={__name:"WeekDetailsDialog",props:{week:{type:Object,required:!0,validator:e=>["weekStart","weekNumber","daysPerWeek","percentageComplete","activeDays"].every((t=>t in e))},visible:{type:Boolean,required:!0}},emits:["update:visible"],setup(e,{emit:t}){const a=e,s=t,i=(0,h.KR)(!1),o=(0,h.KR)(""),r=(0,n.EW)((()=>{const e=[],t=new Date(a.week.weekStart);for(let s=0;s<a.week.daysPerWeek;s++){const a=new Date(t);a.setDate(t.getDate()+s),e.push({date:a.toISOString()})}return e})),l=(0,n.EW)((()=>{const e=new Date(a.week.weekStart),t=new Date(e);t.setDate(e.getDate()+a.week.daysPerWeek-1);const s=e=>{const t=e.getDate(),a=e.toLocaleDateString("en-US",{month:"long"});return`${t} ${a}`};return`${s(e)} - ${s(t)}`}));function c(e){console.log("Received date:",e),e&&(o.value=e,i.value=!0)}function u(){s("update:visible",!1)}return(t,a)=>((0,n.uX)(),(0,n.Wv)((0,h.R1)(F.A),{visible:e.visible,onHide:u,modal:"",closable:!1,showHeader:!1,dismissableMask:!0,contentStyle:{padding:"0",height:"100vh"},style:{width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",margin:"0",borderRadius:"0"},position:"top",class:"week-details-dialog",transition:"dialog"},{default:(0,n.k6)((()=>[(0,n.Lk)("div",{class:(0,m.C4)(["dialog-wrapper",{"dialog-enter-active":e.visible}])},[(0,n.Lk)("div",Jt,[(0,n.Lk)("div",zt,[(0,n.bF)((0,h.R1)(D.A),{icon:"pi pi-times",onClick:u,text:"",class:"close-button"})])]),(0,n.Lk)("div",Zt,[(0,n.Lk)("h2",ea,"Week "+(0,m.v_)(e.week.weekNumber),1),(0,n.Lk)("div",ta,[(0,n.bF)(K,{progress:e.week.percentageComplete},null,8,["progress"])]),(0,n.Lk)("div",aa,[(0,n.Lk)("div",sa,[a[1]||(a[1]=(0,n.Lk)("i",{class:"pi pi-bolt"},null,-1)),(0,n.Lk)("span",ia,"Active Days: "+(0,m.v_)(e.week.activeDays)+"/"+(0,m.v_)(e.week.daysPerWeek),1)]),(0,n.Lk)("div",na,[a[2]||(a[2]=(0,n.Lk)("i",{class:"pi pi-calendar"},null,-1)),(0,n.Lk)("span",oa,(0,m.v_)(l.value),1)])]),(0,n.Lk)("div",ra,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.value,(e=>((0,n.uX)(),(0,n.Wv)(Lt,{key:e.date,"activity-date":e.date,onShowDetails:t=>c(e.date)},null,8,["activity-date","onShowDetails"])))),128))])]),(0,n.bF)(Xt,{visible:i.value,"onUpdate:visible":a[0]||(a[0]=e=>i.value=e),"activity-date":o.value},null,8,["visible","activity-date"])],2)])),_:1},8,["visible"]))}};const ca=(0,l.A)(la,[["__scopeId","data-v-1d553c9a"]]);var ua=ca;const da={class:"phone-frame"},va={class:"h-full flex-col-container"},pa={class:"header-container"},ga={class:"weeks-container"};var ka={__name:"WeeklyProgress",setup(e){const t=(0,s.useActivitiesStore)(),a=vt(),i=(0,h.KR)(null),o=(0,h.KR)(!1);let r=0;const l=(0,h.KR)(!1),c=(0,h.KR)({weekStart:"",weekNumber:1,daysPerWeek:5,percentageComplete:0,activeDays:0}),u=(0,n.EW)((()=>{const e=a.getActiveGoal;if(!e||!e.firstActiveDate)return[];const s=new Date(e.firstActiveDate),i=new Date(e.endDate),n=[];let o=new Date(s),r=1;while(o<=i){const a=o.toISOString(),s=new Date(o);s.setDate(s.getDate()+(e.daysPerWeek-1));const i=t.activities.filter((e=>{const t=new Date(e.dateCreated);t.setHours(0,0,0,0);const a=new Date(o);a.setHours(0,0,0,0);const i=new Date(s);i.setHours(23,59,59,999);const n=t>=a&&t<=i,r="done"===e.status;return n&&r})),l=new Set(i.map((e=>new Date(e.dateCreated).toDateString()))).size,c=i.reduce(((e,t)=>e+t.points),0),u=100*e.daysPerWeek,d=Math.round(c/u*100);n.push({weekStart:a,weekNumber:r,daysPerWeek:e.daysPerWeek,percentageComplete:d,activeDays:l}),o.setDate(o.getDate()+e.daysPerWeek),r++}return console.log("Weeks : ",n),n}));function d(e){const t=e.target.scrollTop;Math.abs(t-r)>5&&(o.value=t>r&&t>50,r=t)}function v(e){c.value={weekStart:e.weekStart,weekNumber:e.weekNumber,daysPerWeek:e.daysPerWeek||5,percentageComplete:e.percentageComplete||0,activeDays:e.activeDays||0},l.value=!0}return(e,t)=>((0,n.uX)(),(0,n.CE)("div",da,[(0,n.Lk)("div",va,[(0,n.Lk)("div",pa,[(0,n.Lk)("div",{class:(0,m.C4)(["page-header",{"header-hidden":o.value}])},t[1]||(t[1]=[(0,n.Lk)("span",{class:"material-icons"},"star",-1),(0,n.Lk)("span",{class:"header-text"},"Weekly Progress",-1)]),2)]),(0,n.Lk)("div",{class:"content-container",onScroll:d,ref_key:"contentContainer",ref:i},[(0,n.Lk)("div",ga,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(u.value,(e=>((0,n.uX)(),(0,n.Wv)(Yt,{key:e.weekStart,week:e,onShowDetails:v},null,8,["week"])))),128))]),l.value?((0,n.uX)(),(0,n.Wv)(ua,{key:0,visible:l.value,"onUpdate:visible":t[0]||(t[0]=e=>l.value=e),week:c.value},null,8,["visible","week"])):(0,n.Q3)("",!0)],544),(0,n.bF)(pe,{active:"calendar",activeGoal:"weekly"})])]))}};const ha=(0,l.A)(ka,[["__scopeId","data-v-2bd75238"]]);var ma=ha;a(7588);const fa={class:"phone-frame"},ya={class:"h-full flex-col-container"},ba={class:"header-container"},wa={class:"goal-title-container"},La={class:"goal-title"},Da={class:"progress-container"},_a={class:"days-left-pill"},Aa={class:"right-group"},Sa={class:"days-count"},Ea={class:"count-value"},Ca={class:"points-pill"},xa={class:"right-group"},Wa={class:"points-count"},Ra={class:"count-value"},Pa={class:"trend-container"},Xa={class:"chart-container"},$a={class:"impression-pill"},Ka={class:"left-group"},Fa={class:"impression-text"};var Ia={__name:"GoalProgress",setup(e){const t=vt(),a=(0,s.useActivitiesStore)(),i=(0,h.KR)(null),o=(0,h.KR)(!1);let r=0;const l=(0,n.EW)((()=>t.getActiveGoal)),c=(0,n.EW)((()=>{if(console.log("activeGoal.value",l.value),!l.value?.endDate)return 0;const e=new Date(l.value.endDate),t=new Date,a=e-t,s=Math.ceil(a/864e5);return Math.max(0,s)})),u=(0,n.EW)((()=>l.value?100*l.value.totalDays:0));function d(e){const t=e.target.scrollTop;Math.abs(t-r)>5&&(o.value=t>r&&t>50,r=t)}const v=(0,n.EW)((()=>{if(!l.value)return null;const e=new Date(l.value.firstActiveDate),t=new Date(l.value.endDate),s=[],i=[];let n=new Date(e);while(n<=t){s.push("");const e=a.getActivitiesByDate(n.toISOString()).filter((e=>"done"===e.status)).reduce(((e,t)=>e+t.points),0);i.push(e),n.setDate(n.getDate()+1)}return{labels:s,datasets:[{label:"Points",data:i,fill:!1,borderColor:"#50a65d",tension:.4,pointBackgroundColor:"#50a65d"}]}})),p=(0,n.EW)((()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,max:100,ticks:{stepSize:100,color:"#232323"}},x:{grid:{display:!1},ticks:{display:!1},title:{display:!0,text:"Days",color:"#232323"}}}}))),g=(0,n.EW)((()=>{if(!l.value)return{color:"no-points",text:"No active goal"};const e=l.value.completionRate,t=new Date,s=new Date(t);s.setDate(t.getDate()-2);const i=a.activities.filter((e=>{const a=new Date(e.dateCreated);return a>=s&&a<=t&&"done"===e.status})),n={};i.forEach((e=>{const t=new Date(e.dateCreated).toDateString();n[t]=(n[t]||0)+e.points}));const o=Object.values(n),r=o.length>=2?o[o.length-1]-o[o.length-2]:0;return e>=90?{color:"max-points",text:"Perfect! Keep it up!"}:e>=75?r>=0?{color:"high-points",text:"Excellent progress!"}:{color:"high-points",text:"Stay focused!"}:e>=50?r>0?{color:"medium-points",text:"You're doing better than before"}:{color:"medium-points",text:"Keep pushing!"}:e>=25||o.some((e=>e>=50))?r>0?{color:"low-points",text:"Making improvement"}:{color:"low-points",text:"You're falling behind"}:r>0?{color:"no-points",text:"Starting to improve"}:{color:"no-points",text:"Not good, time to focus"}})),k=(0,n.EW)((()=>g.value.color)),f=(0,n.EW)((()=>g.value.text));return(e,t)=>((0,n.uX)(),(0,n.CE)("div",fa,[(0,n.Lk)("div",ya,[(0,n.Lk)("div",ba,[(0,n.Lk)("div",{class:(0,m.C4)(["page-header",{"header-hidden":o.value}])},t[0]||(t[0]=[(0,n.Lk)("span",{class:"material-icons"},"emoji_events",-1),(0,n.Lk)("span",{class:"header-text"},"Goal Progress",-1)]),2)]),(0,n.Lk)("div",wa,[(0,n.Lk)("h2",La,(0,m.v_)(l.value?.title||"No Active Goal"),1)]),(0,n.Lk)("div",{class:"content-container",onScroll:d,ref_key:"contentContainer",ref:i},[(0,n.Lk)("div",Da,[(0,n.bF)(K,{progress:l.value?.completionRate||0},null,8,["progress"])]),(0,n.Lk)("div",_a,[t[2]||(t[2]=(0,n.Lk)("div",{class:"left-group"},[(0,n.Lk)("i",{class:"pi pi-sun sun-icon"}),(0,n.Lk)("span",{class:"days-text"},"Days left to completion")],-1)),(0,n.Lk)("div",Aa,[t[1]||(t[1]=(0,n.Lk)("span",{class:"vertical-line"},null,-1)),(0,n.Lk)("div",Sa,[(0,n.Lk)("span",Ea,(0,m.v_)(c.value),1)])])]),(0,n.Lk)("div",Ca,[t[4]||(t[4]=(0,n.Lk)("div",{class:"left-group"},[(0,n.Lk)("i",{class:"pi pi-star-fill points-icon"}),(0,n.Lk)("span",{class:"points-text"},"Total Points")],-1)),(0,n.Lk)("div",xa,[t[3]||(t[3]=(0,n.Lk)("span",{class:"vertical-line"},null,-1)),(0,n.Lk)("div",Wa,[(0,n.Lk)("span",Ra,(0,m.v_)(l.value?.totalPoints||0)+"/"+(0,m.v_)(u.value),1)])])]),(0,n.Lk)("div",Pa,[t[5]||(t[5]=(0,n.Lk)("div",{class:"trend-header"},[(0,n.Lk)("span",{class:"trend-text"},"Progress Trend")],-1)),(0,n.Lk)("div",Xa,[(0,n.bF)((0,h.R1)(R.A),{type:"line",data:v.value,options:p.value},null,8,["data","options"])])]),(0,n.Lk)("div",$a,[(0,n.Lk)("div",Ka,[(0,n.Lk)("div",{class:(0,m.C4)(["status-dot",k.value])},null,2),(0,n.Lk)("span",Fa,(0,m.v_)(f.value),1)])])],544),(0,n.bF)(pe,{active:"calendar",activeGoal:"goal"})])]))}};const Oa=(0,l.A)(Ia,[["__scopeId","data-v-fbec5ba8"]]);var Ua=Oa;const qa={class:"add-activity-container"},Na={class:"form-group"},Ma={class:"form-group"},ja={class:"form-group"},Ga={class:"form-group"};function Ha(e,t,a,s,o,r){return(0,n.uX)(),(0,n.CE)("div",qa,[t[10]||(t[10]=(0,n.Lk)("h2",null,"Add New Activity",-1)),(0,n.Lk)("form",{onSubmit:t[4]||(t[4]=(0,i.D$)(((...e)=>s.handleSubmit&&s.handleSubmit(...e)),["prevent"]))},[(0,n.Lk)("div",Na,[t[5]||(t[5]=(0,n.Lk)("label",{for:"title"},"Title:",-1)),(0,n.bo)((0,n.Lk)("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=e=>s.activityData.title=e),type:"text",required:""},null,512),[[i.Jo,s.activityData.title]])]),(0,n.Lk)("div",Ma,[t[6]||(t[6]=(0,n.Lk)("label",{for:"description"},"Description:",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"description","onUpdate:modelValue":t[1]||(t[1]=e=>s.activityData.description=e)},null,512),[[i.Jo,s.activityData.description]])]),(0,n.Lk)("div",ja,[t[7]||(t[7]=(0,n.Lk)("label",{for:"points"},"Points:",-1)),(0,n.bo)((0,n.Lk)("input",{id:"points","onUpdate:modelValue":t[2]||(t[2]=e=>s.activityData.points=e),type:"number",min:"0"},null,512),[[i.Jo,s.activityData.points,void 0,{number:!0}]])]),(0,n.Lk)("div",Ga,[t[8]||(t[8]=(0,n.Lk)("label",{for:"duration"},"Duration (minutes):",-1)),(0,n.bo)((0,n.Lk)("input",{id:"duration","onUpdate:modelValue":t[3]||(t[3]=e=>s.activityData.duration=e),type:"number",min:"0"},null,512),[[i.Jo,s.activityData.duration,void 0,{number:!0}]])]),t[9]||(t[9]=(0,n.Lk)("button",{type:"submit"},"Add Activity",-1))],32)])}var Ta={name:"AddActivity",setup(){const e=y(),t=(0,d.rd)(),a=(0,h.KR)({title:"",description:"",points:0,duration:null}),s=async()=>{try{await e.addActivity(a.value),t.push("/")}catch(s){console.error("Error adding activity:",s)}};return{activityData:a,handleSubmit:s}}};const Va=(0,l.A)(Ta,[["render",Ha],["__scopeId","data-v-643d1cd3"]]);var Ba=Va;const Qa=[{path:"/",name:"Home",component:Je,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:tt},{path:"/register",name:"Register",component:nt},{path:"/profile",name:"Profile",component:dt,meta:{requiresAuth:!0}},{path:"/add-activity",name:"AddActivity",component:Ba,meta:{requiresAuth:!0}},{path:"/dailyprogress",name:"DailyProgress",component:qt,meta:{requiresAuth:!0}},{path:"/weeklyprogress",name:"WeeklyProgress",component:ma,meta:{requiresAuth:!0}},{path:"/goalprogress",name:"GoalProgress",component:Ua,meta:{requiresAuth:!0}}],Ya=(0,d.aE)({history:(0,d.LA)(""),routes:Qa});Ya.beforeEach((async(e,t,a)=>{const{data:{user:s}}=await k.auth.getUser(),i=e.matched.some((e=>e.meta.requiresAuth));i&&!s?a("/login"):i||!s||"/login"!==e.path&&"/register"!==e.path?a():a("/")}));var Ja=Ya,za=a(4458);(0,za.k)("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var Za=a(8253),es=a(9498);const ts=(0,i.Ef)(u);ts.use(Za.Ay,{theme:{preset:es.A,options:{prefix:"p",cssLayer:!1}}}),ts.use(Ja),ts.use((0,f.Ey)()),ts.mount("#app")}},t={};function a(s){var i=t[s];if(void 0!==i)return i.exports;var n=t[s]={exports:{}};return e[s].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,s,i,n){if(!s){var o=1/0;for(u=0;u<e.length;u++){s=e[u][0],i=e[u][1],n=e[u][2];for(var r=!0,l=0;l<s.length;l++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](s[l])}))?s.splice(l--,1):(r=!1,n<o&&(o=n));if(r){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[s,i,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(s,i){if(1&i&&(s=this(s)),8&i)return s;if("object"===typeof s&&s){if(4&i&&s.__esModule)return s;if(16&i&&"function"===typeof s.then)return s}var n=Object.create(null);a.r(n);var o={};e=e||[null,t({}),t([]),t(t)];for(var r=2&i&&s;"object"==typeof r&&!~e.indexOf(r);r=t(r))Object.getOwnPropertyNames(r).forEach((function(e){o[e]=function(){return s[e]}}));return o["default"]=function(){return s},a.d(n,o),n}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+"."+{456:"7fd2dce7",634:"995b44e3"}[e]+".js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="behavior-tracking-app:";a.l=function(s,i,n,o){if(e[s])e[s].push(i);else{var r,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==s||d.getAttribute("data-webpack")==t+n){r=d;break}}r||(l=!0,r=document.createElement("script"),r.charset="utf-8",r.timeout=120,a.nc&&r.setAttribute("nonce",a.nc),r.setAttribute("data-webpack",t+n),r.src=s),e[s]=[i];var v=function(t,a){r.onerror=r.onload=null,clearTimeout(p);var i=e[s];if(delete e[s],r.parentNode&&r.parentNode.removeChild(r),i&&i.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(v.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=v.bind(null,r.onerror),r.onload=v.bind(null,r.onload),l&&document.head.appendChild(r)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){var e={524:0};a.f.j=function(t,s){var i=a.o(e,t)?e[t]:void 0;if(0!==i)if(i)s.push(i[2]);else{var n=new Promise((function(a,s){i=e[t]=[a,s]}));s.push(i[2]=n);var o=a.p+a.u(t),r=new Error,l=function(s){if(a.o(e,t)&&(i=e[t],0!==i&&(e[t]=void 0),i)){var n=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+o+")",r.name="ChunkLoadError",r.type=n,r.request=o,i[1](r)}};a.l(o,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,n,o=s[0],r=s[1],l=s[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in r)a.o(r,i)&&(a.m[i]=r[i]);if(l)var u=l(a)}for(t&&t(s);c<o.length;c++)n=o[c],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(u)},s=self["webpackChunkbehavior_tracking_app"]=self["webpackChunkbehavior_tracking_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(4775)}));s=a.O(s)})();
//# sourceMappingURL=app.d362fe1c.js.map